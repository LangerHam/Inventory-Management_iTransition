@model Inventory_Management_iTransition.Models.Inventory

<div class="card">
    <div class="card-body" id="discussion-container" style="max-height: 400px; overflow-y: auto;">
        @if (!Model.Comments.Any())
        {
            <p id="no-comments-message" class="text-center text-muted">No comments have been posted yet. Be the first!</p>
        }
        else
        {
            foreach (var comment in Model.Comments.OrderBy(c => c.CreatedAt))
            {
                <div class="mb-2">
                    <strong>@comment.Author.UserName</strong> <small class="text-muted">(@comment.CreatedAt.ToString("g"))</small>
                    <p class="mb-0">@comment.Text</p>
                </div>
            }
        }
    </div>
    <div class="card-footer">
        @using (Html.BeginForm("Create", "Comment", FormMethod.Post, new { id = "comment-form" }))
        {
            @Html.AntiForgeryToken()
            @Html.Hidden("inventoryId", Model.Id)
            <div class="input-group">
                <input type="text" id="comment-message-input" name="message" class="form-control" placeholder="Type your message..." required autocomplete="off" />
                <button class="btn btn-primary" type="submit">Send</button>
            </div>
        }
    </div>
</div>

